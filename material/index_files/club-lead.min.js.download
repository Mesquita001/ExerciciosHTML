var fullJsUrl=document.querySelector('script[src*\x3d"club-lead"]'),baseServerURL=fullJsUrl.src.split("/js/club-lead")[0],HotLead={value:"",affiliation:"",src:"",formId:"",url:"",debug:!1,observer:void 0,controlPolling:void 0,form:void 0,input:void 0,setup:function(){if(this.form=document.querySelector("form[id\x3dsignup]")){var a=this.form.getElementsByTagName("button");if(this.input=0<a.length?a[0]:void 0)this.affiliation=HotUtils.getUrlParameters("ref","",!0),this.affiliation=null==this.affiliation?
"":this.affiliation,this.src=HotUtils.getUrlParameters("hsrc","",!0),this.src=null==this.src?"":this.src,this.debug=HotUtils.getUrlParameters("debug","",!0),this.formId=this.form.getAttribute("id"),this.url=encodeURIComponent(window.location),this.addTrigger()}},getParameters:function(){return"affiliationCode\x3d"+HotLead.affiliation+"\x26lead\x3d"+HotLead.value+"\x26leadType\x3demail\x26src\x3d"+HotLead.src+"\x26url\x3d"+HotLead.url+"\x26account\x3d"+HotUtils.getAccount()+"\x26referrer\x3d"+HotLead.referrer+
"\x26formId\x3d"+HotLead.formId},crateObserver:function(){this.observer=new MutationObserver(function(a){HotLead.setup()});this.observer.observe(document,{childList:!0,attributes:!1,characterData:!1,subtree:!0});HotUtils.logInfo("Monitoring by Observer")},cratePolling:function(){HotLead.controlPolling=setInterval(function(){HotLead.setup();"complete"===document.readyState&&(HotUtils.logInfo("Document complete"),clearInterval(HotLead.controlPolling))},1E3);HotUtils.logInfo("Monitoring by Polling")},
addTrigger:function(){sendEvent=function(a){a=HotUtils.getEmail(HotLead.form);null!=a&&""!=a&&(HotLead.value=encodeURIComponent(a),HotUtils.logInfo("sending lead: "+HotLead.getParameters()),HotUtils.sendRequest(baseServerURL+"/rest/v1/processor/collector","POST",HotLead.getParameters()))};HotUtils.addEvent(HotLead.input,"click",sendEvent)}},HotUtils={lastParameters:"",getUrlParameters:function(a,b,c){try{var d=this.getRequestParameterValue(b.length?b:window.location.search,a,c);null==d&&this.inIframe()&&
(d=this.getRequestParameterValue(document.referrer,a,c));return d}catch(e){return null}},getRequestParameterValue:function(a,b,c){try{var d=a.length?a.split("?")[1].split("\x26"):""}catch(f){return null}for(a=0;a<d.length;a++){var e=d[a].split("\x3d");if(e[0]==b)return c?decodeURIComponent(e[1]):e[1]}return null},getHotParameters:function(a){var b=[],c=0,d=window.hot.q;if(d)for(var e=0;e<d.length;++e){var f=d[e];f["0"]==a&&(b[c]=f["1"],c++)}return b},getAccount:function(){var a=this.getHotParameters("account");
return 0<a.length?a[0]:""},getValueEmail:function(a){for(var b="",c=a.length,d=0;d<c;d++){var e=a[d];if(0<=e.value.indexOf("@")&&"hidden"!=e.type){b=e.value;break}}return b},getEmail:function(a){var b=document.querySelectorAll("form input[type\x3demail]"),b=this.getValueEmail(b);if(""!=b)return b;b=a.getElementsByTagName("input");b=this.getValueEmail(b);if(""!=b)return b;b=document.querySelectorAll("form input");b=this.getValueEmail(b);if(""!=b)return b},sendRequest:function(a,b,c){c==HotUtils.lastParameters&&
"GET"!=b||window.hotlobj.sendRequest(a,b,!1,c,function(){4==this.readyState&&(200==this.status?HotUtils.logInfo(b+" "+a+" OK"):HotUtils.logError(b+" "+a+" ERROR "+this.status+"-"+this.statusText))});HotUtils.lastParameters=c},addEvent:function(a,b,c){return a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)},logInfo:function(a){HotLead.debug&&console.log("INFO: "+a)},logError:function(a){HotLead.debug&&console.log("ERROR: "+a)},logElement:function(a){HotLead.debug&&console.dir(a)}};
HotLead.referrer=document.referrer;HotLead.setup();try{HotLead.crateObserver()}catch(a){HotUtils.logError("Failed to create observer \x3e"+a),HotLead.cratePolling()};